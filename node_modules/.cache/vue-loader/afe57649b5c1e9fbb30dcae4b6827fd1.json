{"remainingRequest":"D:\\github\\portfolio-RecordYourLife\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\github\\portfolio-RecordYourLife\\src\\components\\board\\diary\\DiaryNew.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\github\\portfolio-RecordYourLife\\src\\components\\board\\diary\\DiaryNew.vue","mtime":1601299256963},{"path":"D:\\github\\portfolio-RecordYourLife\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1600881118000},{"path":"D:\\github\\portfolio-RecordYourLife\\node_modules\\babel-loader\\lib\\index.js","mtime":1600881118000},{"path":"D:\\github\\portfolio-RecordYourLife\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1600881118000},{"path":"D:\\github\\portfolio-RecordYourLife\\node_modules\\vue-loader\\lib\\index.js","mtime":1600881118000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGE6IGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gewogICAgICAgICAgICBmaWxlczogW10sIC8v7JeF66Gc65Oc7JqpIO2MjOydvAogICAgICAgICAgICBmaWxlc1ByZXZpZXc6IFtdLAogICAgICAgICAgICB1cGxvYWRJbWFnZUluZGV4OiAwIC8vIOydtOuvuOyngCDsl4XroZzrk5zrpbwg7JyE7ZWcIOuzgOyImAogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgaW1hZ2VVcGxvYWQoKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuJHJlZnMuZmlsZXMuZmlsZXMpOwoKICAgICAgICAgICAgLy8gdGhpcy5maWxlcyA9IFsuLi50aGlzLmZpbGVzLCB0aGlzLiRyZWZzLmZpbGVzLmZpbGVzXTsKICAgICAgICAgICAgLy/tlZjrgpjsnZgg67Cw7Je066GcIOuEo+q4sAogICAgICAgICAgICBsZXQgbnVtID0gLTE7CiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy4kcmVmcy5maWxlcy5maWxlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgdGhpcy5maWxlcyA9IFsKICAgICAgICAgICAgICAgICAgICAuLi50aGlzLmZpbGVzLAogICAgICAgICAgICAgICAgICAgIC8v7J2066+47KeAIOyXheuhnOuTnAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy/si6TsoJwg7YyM7J28CiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGU6IHRoaXMuJHJlZnMuZmlsZXMuZmlsZXNbaV0sCiAgICAgICAgICAgICAgICAgICAgICAgIC8v7J2066+47KeAIO2UhOumrOu3sAogICAgICAgICAgICAgICAgICAgICAgICBwcmV2aWV3OiBVUkwuY3JlYXRlT2JqZWN0VVJMKHRoaXMuJHJlZnMuZmlsZXMuZmlsZXNbaV0pLAogICAgICAgICAgICAgICAgICAgICAgICAvL+yCreygnOuwjyDqtIDrpqzrpbwg7JyE7ZWcIG51bWJlcgogICAgICAgICAgICAgICAgICAgICAgICBudW1iZXI6IGkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBdOwogICAgICAgICAgICAgICAgbnVtID0gaTsKICAgICAgICAgICAgICAgIC8v7J2066+47KeAIOyXheuhnOuTnOyaqSDtlITrpqzrt7AKICAgICAgICAgICAgICAgIC8vIHRoaXMuZmlsZXNQcmV2aWV3ID0gWwogICAgICAgICAgICAgICAgLy8gICAuLi50aGlzLmZpbGVzUHJldmlldywKICAgICAgICAgICAgICAgIC8vICAgeyBmaWxlOiBVUkwuY3JlYXRlT2JqZWN0VVJMKHRoaXMuJHJlZnMuZmlsZXMuZmlsZXNbaV0pLCBudW1iZXI6IGkgfQogICAgICAgICAgICAgICAgLy8gXTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLnVwbG9hZEltYWdlSW5kZXggPSBudW0gKyAxOyAvL+ydtOuvuOyngCBpbmRleOydmCDrp4jsp4Drp4kg6rCSICsgMSDsoIDsnqUKICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5maWxlcyk7CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuZmlsZXNQcmV2aWV3KTsKICAgICAgICB9LAogICAgICAgIGltYWdlQWRkVXBsb2FkKCkgewogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLiRyZWZzLmZpbGVzLmZpbGVzKTsKCiAgICAgICAgICAgIC8vIHRoaXMuZmlsZXMgPSBbLi4udGhpcy5maWxlcywgdGhpcy4kcmVmcy5maWxlcy5maWxlc107CiAgICAgICAgICAgIC8v7ZWY64KY7J2YIOuwsOyXtOuhnCDrhKPquLBjCiAgICAgICAgICAgIGxldCBudW0gPSAtMTsKICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLiRyZWZzLmZpbGVzLmZpbGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnVwbG9hZEltYWdlSW5kZXgpOwogICAgICAgICAgICAgICAgdGhpcy5maWxlcyA9IFsKICAgICAgICAgICAgICAgICAgICAuLi50aGlzLmZpbGVzLAogICAgICAgICAgICAgICAgICAgIC8v7J2066+47KeAIOyXheuhnOuTnAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy/si6TsoJwg7YyM7J28CiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGU6IHRoaXMuJHJlZnMuZmlsZXMuZmlsZXNbaV0sCiAgICAgICAgICAgICAgICAgICAgICAgIC8v7J2066+47KeAIO2UhOumrOu3sAogICAgICAgICAgICAgICAgICAgICAgICBwcmV2aWV3OiBVUkwuY3JlYXRlT2JqZWN0VVJMKHRoaXMuJHJlZnMuZmlsZXMuZmlsZXNbaV0pLAogICAgICAgICAgICAgICAgICAgICAgICAvL+yCreygnOuwjyDqtIDrpqzrpbwg7JyE7ZWcIG51bWJlcgogICAgICAgICAgICAgICAgICAgICAgICBudW1iZXI6IGkgKyB0aGlzLnVwbG9hZEltYWdlSW5kZXgKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBdOwogICAgICAgICAgICAgICAgbnVtID0gaTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLnVwbG9hZEltYWdlSW5kZXggPSB0aGlzLnVwbG9hZEltYWdlSW5kZXggKyBudW0gKyAxOwoKICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5maWxlcyk7CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuZmlsZXNQcmV2aWV3KTsKICAgICAgICB9LAogICAgICAgIGZpbGVEZWxldGVCdXR0b24oZSkgewogICAgICAgICAgICBjb25zdCBuYW1lID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCduYW1lJyk7CiAgICAgICAgICAgIHRoaXMuZmlsZXMgPSB0aGlzLmZpbGVzLmZpbHRlcihkYXRhID0+IGRhdGEubnVtYmVyICE9PSBOdW1iZXIobmFtZSkpOwogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmZpbGVzKTsKICAgICAgICB9LAogICAgICAgIGFsbENsZWFyKCkgewogICAgICAgICAgICB0aGlzLmZpbGVzID0gJycKICAgICAgICB9Cn0KfQo="},{"version":3,"sources":["DiaryNew.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DiaryNew.vue","sourceRoot":"src/components/board/diary","sourcesContent":["<template>\n    <div class=\"diary-new\">\n        <div class=\"new_container\">\n            <div class=\"diary-new-title article\">\n                <div class=\"article-name\">title</div>\n                <div class=\"article-title-box\">\n                    <input id=\"textbox\" type=\"text\">\n                </div>\n            </div>\n            <div class=\"diary-new-date article\">\n                <div class=\"article-name\">date</div>\n                <div class=\"article-date-box\">\n                    <input type=\"date\">\n                </div>\n            </div>\n            <div class=\"diary-new-image article\">\n                <div class=\"article-name\">image</div>\n                <div v-if=\"!files.length\" class=\"diary-befor-upload\">\n                    <div class=\"before-input-box\">\n                        <label for=\"file\" class=\"uploadBtn\"><div>file</div></label>\n                        <input type=\"file\" id=\"file\" ref=\"files\" @change=\"imageUpload\" multiple style=\"display: none;\"/>\n                        <span class=\"noImage\">첨부한 이미지가 없습니다</span>\n                    </div>\n                    \n                </div>\n                <div v-else class=\"diary-after-upload\">\n                    <div class=\"after-input-box\">\n                        <label for=\"file\" class=\"uploadBtn\"><div>file+</div></label>\n                        <input type=\"file\" id=\"file\" ref=\"files\" @change=\"imageAddUpload\" multiple style=\"display: none;\"/>\n                        <label for=\"fileclear\" class=\"clearBtn\"><div>clear</div></label>\n                        <button id=\"fileclear\" @click=\"allClear\" style=\"display: none;\"></button>\n                    </div>\n                    <div class=\"after-container\">\n                        <div v-for=\"(file, index) in files\" :key=\"index\" class=\"after-image-box\">\n                            <div class=\"deleteBtn\" @click=\"fileDeleteButton\" :name=\"file.number\">\n                                x\n                            </div>\n                            <img :src=\"file.preview\"/>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"diary-new-content article\">\n                <div class=\"article-name\">content</div>\n                <div class=\"article-content-box\">\n                    <textarea id=\"content-box\"></textarea>\n                </div>\n            </div>\n            <div class=\"new-submit\">\n                <div class=\"submit-button\">\n                    <button type=\"button\" id=\"upload\">upload</button>\n                    <button type=\"button\" id=\"reset\">reset</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    data: function() {\n      return {\n            files: [], //업로드용 파일\n            filesPreview: [],\n            uploadImageIndex: 0 // 이미지 업로드를 위한 변수\n        }\n    },\n    methods: {\n        imageUpload() {\n            console.log(this.$refs.files.files);\n\n            // this.files = [...this.files, this.$refs.files.files];\n            //하나의 배열로 넣기\n            let num = -1;\n            for (let i = 0; i < this.$refs.files.files.length; i++) {\n                this.files = [\n                    ...this.files,\n                    //이미지 업로드\n                    {\n                        //실제 파일\n                        file: this.$refs.files.files[i],\n                        //이미지 프리뷰\n                        preview: URL.createObjectURL(this.$refs.files.files[i]),\n                        //삭제및 관리를 위한 number\n                        number: i\n                    }\n                ];\n                num = i;\n                //이미지 업로드용 프리뷰\n                // this.filesPreview = [\n                //   ...this.filesPreview,\n                //   { file: URL.createObjectURL(this.$refs.files.files[i]), number: i }\n                // ];\n            }\n            this.uploadImageIndex = num + 1; //이미지 index의 마지막 값 + 1 저장\n            console.log(this.files);\n            // console.log(this.filesPreview);\n        },\n        imageAddUpload() {\n            console.log(this.$refs.files.files);\n\n            // this.files = [...this.files, this.$refs.files.files];\n            //하나의 배열로 넣기c\n            let num = -1;\n            for (let i = 0; i < this.$refs.files.files.length; i++) {\n                console.log(this.uploadImageIndex);\n                this.files = [\n                    ...this.files,\n                    //이미지 업로드\n                    {\n                        //실제 파일\n                        file: this.$refs.files.files[i],\n                        //이미지 프리뷰\n                        preview: URL.createObjectURL(this.$refs.files.files[i]),\n                        //삭제및 관리를 위한 number\n                        number: i + this.uploadImageIndex\n                    }\n                ];\n                num = i;\n            }\n            this.uploadImageIndex = this.uploadImageIndex + num + 1;\n\n            console.log(this.files);\n            // console.log(this.filesPreview);\n        },\n        fileDeleteButton(e) {\n            const name = e.target.getAttribute('name');\n            this.files = this.files.filter(data => data.number !== Number(name));\n            // console.log(this.files);\n        },\n        allClear() {\n            this.files = ''\n        }\n}\n}\n</script>\n\n<style>\n    .diary-new {\n        width: 700px;\n        height: auto;\n        margin: auto;\n        margin-bottom: 100px;\n        padding: 50px 0;\n        box-sizing: border-box;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        border: 1.5px solid lightgray;\n\t\tborder-radius: 5px;\n\t\tbox-shadow: 2px 2px 5px 0px rgba(0,0,0,0.25);\n    }\n\n    .diary-new input {\n        height: 30px;\n        border: 1px solid gray;\n        border-radius: 5px;\n    }\n\n    .diary-new button {\n        padding: 5px 15px;\n        color: white;\n        background-color: #3F5EFB;\n        border: none;\n        border-radius: 5px;\n        cursor: pointer;\n    }\n\n    .new_container {\n        width: 500px;\n        height: 100%;\n        display: flex;\n        flex-direction: column;\n        justify-content: space-around;\n    }\n\n    .article {\n        margin-bottom: 20px;\n    }\n\n    .article-name {\n        margin-bottom: 20px;\n        font-size: 1.5rem;\n        font-weight: 700;\n    }\n\n    .noImage {\n        color: dimgray;\n        font-weight: 600;\n    }\n\n    .after-container {\n        width: 100%;\n        display: flex;\n        flex-wrap: wrap;\n    }\n\n    .after-input-box {\n        margin-bottom: 20px;\n    }\n\n    .after-image-box img {\n        width: 80px;\n        height: 80px;\n        margin: 0 20px 20px 0;\n    }\n\n    .uploadBtn, .clearBtn {\n        margin-right: 10px;\n        padding: 5px 15px;\n        display: inline-block;\n        color: white;\n        background-color: #3F5EFB;\n        border: none;\n        border-radius: 5px;\n        cursor: pointer;\n    }\n\n    .deleteBtn {\n        position: absolute;\n        width: 20px;\n        height: 20px;\n        color: #fff;\n        font-weight: bold;\n        text-align: center;\n        background-color: #666666;\n        cursor: pointer;\n    }\n\n    .submit-button {\n        display: flex;\n        justify-content: space-around;\n    }\n\n    #textbox {\n        width: 50%;\n    }\n\n    #content-box {\n        width: 100%;\n        height: 150px;\n        border: 1px solid gray;\n        border-radius: 5px;\n    }\n</style>"]}]}